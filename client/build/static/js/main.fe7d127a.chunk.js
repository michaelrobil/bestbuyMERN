(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a(70)},45:function(e,t,a){},51:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(34),l=a.n(c),u=(a(45),a(12)),o=a(8),i=a(16),m=a(17),s=a(19),p=a(18),f=a(20),d=a(2),b=a(3);function E(){var e=Object(d.a)([""]);return E=function(){return e},e}function v(){var e=Object(d.a)([""]);return v=function(){return e},e}function h(){var e=Object(d.a)([""]);return h=function(){return e},e}var g=b.a.div.attrs({className:"collpase navbar-collapse"})(h()),k=b.a.div.attrs({className:"navbar-nav mr-auto"})(v()),j=b.a.div.attrs({className:"collpase navbar-collapse"})(E()),x=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"navbar-brand"},"BestBuy"),r.a.createElement(g,null,r.a.createElement(k,null,r.a.createElement(j,null,r.a.createElement(u.b,{to:"/",className:"nav-link"},"Search Item")),r.a.createElement(j,null,r.a.createElement(u.b,{to:"/cart",className:"nav-link"},"Cart")))))}}]),t}(n.Component);function y(){var e=Object(d.a)(["\n    margin-bottom: 20 px;\n"]);return y=function(){return e},e}var O=b.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-primary"})(y()),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(O,null,r.a.createElement(x,null))}}]),t}(n.Component),C=(a(51),a(13)),S=a(14),P=a.n(S),_=function(e){return P.a.get("/api/products?q=".concat(e))},w=function(){return P.a.get("/api/products/cart")},I=function(e){return P.a.post("/api/products",e)},R=function(e){return P.a.delete("/api/products/"+e)},T=r.a.createContext({});function F(){var e=Object(d.a)(["margin: 5px;"]);return F=function(){return e},e}var B=b.a.input.attrs({className:"form-control"})(F());function D(){var e=Object(d.a)(["  margin: 15px 15px 15px 5px;"]);return D=function(){return e},e}var U=b.a.button.attrs({className:"btn btn-primary"})(D());var A=function(){var e=Object(n.useContext)(T),t=e.inputRef,a=e.setSearchTerm,c=e.fetchProducts;return r.a.createElement("form",null,r.a.createElement("h2",null,"Search Product"),r.a.createElement(B,{type:"search",ref:t,onChange:function(e){return a(e.target.value)}}),r.a.createElement(U,{type:"submit",onClick:c},"Search"))};function J(){var e=Object(d.a)(["padding: 0 40px 40px 40px;"]);return J=function(){return e},e}var q=b.a.div(J());var z=function(){return r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Name"),r.a.createElement("th",{scope:"col"},"Price"),r.a.createElement("th",{scope:"col"},"Image"),r.a.createElement("th",{scope:"col"},"Cart")))};function G(){var e=Object(d.a)(["min-width: 200px; margin: 15px 15px 15px 15px;  border: 2px solid #ffffff ;"]);return G=function(){return e},e}var H=b.a.th(G());function K(){var e=Object(d.a)(["border: 1px solid #ddd;\nborder-radius: 4px;\npadding: 5px;\nwidth: 150px;\nheight: 200px"]);return K=function(){return e},e}var L=b.a.img.attrs({className:"rounded"})(K());var M=function(){var e=Object(n.useContext)(T),t=e.productState,a=e.inputRef,c=e.addToCart;return console.log(t),r.a.createElement(q,null,r.a.createElement("table",{className:"table table-dark table-bordered"},r.a.createElement(z,null),r.a.createElement("tbody",null,t.slice(1,12).map((function(e){return r.a.createElement("tr",{key:e.sku},r.a.createElement(H,{key:e.sku+1},e.name),r.a.createElement(H,{key:e.sku+2},e.price),r.a.createElement(H,{key:e.sku+3},r.a.createElement(L,{src:e.image,alt:e.name})),r.a.createElement(H,null,r.a.createElement(U,{key:e.sku+4,ref:a,type:"submit",onClick:function(){return c(e.sku)}},"Add To Cart")))})))))};function Q(){var e=Object(n.useState)([]),t=Object(C.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),u=Object(C.a)(l,2),o=u[0],i=u[1],m=Object(n.useRef)();var s=!0;return a.length<=1&&(s=!1),r.a.createElement(T.Provider,{value:{productState:a,inputRef:m,addToCart:function(e){var t=a.filter((function(t){return t.sku===e}));console.log(a),console.log(t),I({id:t[0].sku,name:t[0].name,price:t[0].price,image:t[0].image})},setSearchTerm:i,fetchProducts:function(e){e.preventDefault();var t=encodeURI(o.trim());_(t).then((function(e){var t=e.data;console.log(e.data);var a=t.slice(0,12);c(a.map((function(e){return e.price=e.salePrice,e})))}))}}},r.a.createElement(q,null,r.a.createElement(A,null),s&&r.a.createElement(M,null)))}function V(){var e=Object(d.a)([""]);return V=function(){return e},e}var W=b.a.div.attrs({className:"container"})(V());function X(){return r.a.createElement(W,null,r.a.createElement(Q,null))}function Y(){var e=Object(n.useState)(""),t=Object(C.a)(e,2),a=t[0],c=t[1];function l(){w().then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}Object(n.useEffect)((function(){l()}),[]);var u=!0;return a||(u=!1),r.a.createElement(W,null,u&&r.a.createElement("table",{className:"table table-dark table-bordered"},r.a.createElement(z,null),r.a.createElement("tbody",null,a.map((function(e){return r.a.createElement("tr",{key:"'".concat(e._id,"'")},r.a.createElement(H,{key:"'".concat(e._id+1,"'")},e.name),r.a.createElement(H,{key:"'".concat(e._id+2,"'")},e.price),r.a.createElement(H,{key:"'".concat(e._id+3,"'")},r.a.createElement(L,{src:e.image,alt:e.name})),r.a.createElement(H,null,r.a.createElement(U,{key:"'".concat(e._id+4,"'"),onClick:function(){return t=e._id,console.log(t),void R(t).then((function(e){return l()})).catch((function(e){return console.log(e)}));var t},type:"submit"},"Delete")))})),r.a.createElement("tr",{key:"1",style:{fontSize:"40px",textAlign:"right"}},r.a.createElement("td",null,function(e){var t,a=e.reduce((function(e,t){return parseFloat(e)+parseFloat(t.price)}),0);return t=a,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}(a))))))}a(69);var Z=function(){return r.a.createElement(u.a,null,r.a.createElement(N,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:X}),r.a.createElement(o.a,{exact:!0,path:"/bestbuy",component:X}),r.a.createElement(o.a,{path:"/cart",exact:!0,component:Y})))};l.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.fe7d127a.chunk.js.map